<!DOCTYPE html>
<html>
<head lang="en">
<meta charset="UTF-8">
<title>会员注册</title>
<meta name="format-detection" content="telephone=no">
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<!-- Set render engine for 360 browser -->
<meta name="renderer" content="webkit">

<!-- No Baidu Siteapp-->
<meta http-equiv="Cache-Control" content="no-siteapp" />

<link rel="icon" type="image/png" href="assets/i/favicon.png">

<!-- Add to homescreen for Chrome on Android -->
<meta name="mobile-web-app-capable" content="yes">
<link rel="icon" sizes="192x192" href="assets/i/app-icon72x72@2x.png">

<!-- Add to homescreen for Safari on iOS -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="Amaze UI" />
<link rel="apple-touch-icon-precomposed"
	href="assets/i/app-icon72x72@2x.png">

<!-- Tile icon for Win8 (144x144 + tile color) -->
<meta name="msapplication-TileImage"
	content="assets/i/app-icon72x72@2x.png">
<meta name="msapplication-TileColor" content="#0e90d2">

<link rel="alternate icon" type="image/png" href="assets/i/favicon.png">
<link rel="stylesheet" href="assets/css/amazeui.min.css" />
<script src="assets/js/jquery-3.3.1.min.js"></script>
<style>
.header {
	text-align: center;
}

.round_icon {
	width: 34px;
	height: 34px;
	display: flex;
	border-radius: 50%;
	align-items: center;
	justify-content: center;
	overflow: hidden;
}

.sameline {
	display: inline;
}

.header h1 {
	font-size: 200%;
	color: #333;
	margin-top: 30px;
}

.header p {
	font-size: 14px;
	color: #66B3FF;
}
</style>
<style>
p1 {
	font-family: "WebContent/assets/fonts/ZOMBIE.TTF";
	font-size: 20px;
}
</style>
<style>
body {
	background: url('assets/i/f12.jpg');
	background-size: 100% 100%;
	no-repeat
	top
	center
}
</style>
</head>
<body>
	<header class="am-topbar">
		<h1 class="am-topbar-brand">会员注册账号</h1>
		<form
			class="am-topbar-form am-topbar-left am-form-inline am-topbar-right">
			<button class="am-btn am-btn-default am-btn-sm">
				<a href="Login.html">登录</a>
			</button>
		</form>
	</header>
	<div class="header">
		<p1>
		<h1>Yummy</h1>
		</p1>
		<p>
			<br />
		</p>
		<hr />
	</div>
	<div class="am-g">
		<div class="am-u-lg-6 am-u-md-8 am-u-sm-centered">
			<form id="form1" onsubmit="return false" action="##" method="post"
				class="am-form">
				<!-- 
				<div class="am-input-group am-radius am-animation-slide-left">
					<input type="file" name="imgOne" id="imgOne" value="选择头像"
						onchange="preImg(this.id,'imgPre');" /> <img id="imgPre" src=""
						width="100%" height="100%" style="display: block;" />
				</div>
				 -->
				<div class="am-input-group am-radius am-animation-slide-left">
					<input type="text" id="username" name="username" class="am-radius"
						data-validation-message="账号" placeholder="账号" required /> <span
						class="am-input-group-label log-icon am-radius"><i
						class="am-icon-user am-icon-sm am-icon-fw"></i></span>
				</div>
				<br />
				<div
					class="am-input-group am-animation-slide-left log-animation-delay">
					<input type="password" class="am-form-field am-radius log-input"
						id="password" name="password" placeholder="密码" minlength="5"
						required> <span
						class="am-input-group-label log-icon am-radius"><i
						class="am-icon-lock am-icon-sm am-icon-fw"></i></span>
				</div>
				<br>
				<div
					class="am-input-group am-animation-slide-left log-animation-delay">
					<input type="password" class="am-form-field am-radius log-input"
						id="check" name="check" placeholder="确认密码" minlength="5" required>
					<span class="am-input-group-label log-icon am-radius"><i
						class="am-icon-lock am-icon-sm am-icon-fw"></i></span>
				</div>
				<br>
				<div class="am-input-group am-radius am-animation-slide-left">
					<input type="text" id="email" name="email" class="am-radius"
						data-validation-message="绑定邮箱" placeholder="绑定邮箱" required /> <span
						class="am-input-group-label log-icon am-radius"><i
						class="am-icon-email am-icon-sm am-icon-fw"></i></span>
				</div>
				<!-- <br>
				<div class="am-input-group am-radius am-animation-slide-left">
				<input type="text" id="yanzheng" name="yanzheng" class="am-radius"
						data-validation-message="验证码" placeholder="验证码" required /><span
						class="am-input-group-label am-radius" id="btnSendCode" type="button" value="获取验证码" onclick="GetVerifyCodeAction()">获取验证码</span>
				</div> -->
				<br>
				<!--<div class="am-input-group am-radius am-animation-slide-left">
					<select data-am-selected id="position"
						name="position" class="am-radius">
						         <option>-请选择身份-</option> 
						<option value="会员">会员</option>
				
						<option value="餐厅">餐厅</option>
					</select>
				</div>-->
				<br>
				<button type="submit"
					class="am-btn am-btn-primary am-btn-block am-btn-lg am-radius am-animation-slide-bottom log-animation-delay"
					onclick="sub()">激活注册</button>
			</form>
			<script type="text/javascript">
			var Time=60;
			var yanzheng;
			/*function GetVerifyCodeAction(){
				phonenumber = document.getElementById("phone").value;
				if(phonenumber.length==11){
				$.ajax({
					//几个参数需要注意一下
					type : "POST",//方法类型
					dataType : "json",//服务端接收的数据类型
					url : "BeforeRegisterCheckPhoneServlet",//url
					data :{"phoneNumber":phonenumber},
					success : function(result) {
						//得到后端的验证码
						var jo=eval(result);
						yanzheng=jo.data;
					},
					});
			}else{
				alert("请输入标准格式的手机号");
			}
			}*/
			//定时器
	       /* function ReSend() {
	　　　　　　　var Wait60Second="60秒后重发";
	            var TotalCount = $("#hf_timecount").val();
	            TotalCount = TotalCount - 1;
	            $("#hf_timecount").val(TotalCount);
	 
	            if (TotalCount == 0) {
	            	alert("验证码已失效");
	            	Time=TotalCount;
	                ReSetSendMail();
	            }
	            else {
	                $("#btnSendCode").text(Wait60Second.replace("60", TotalCount));
	            }
	        }*/　　　　 //重新附加发送邮箱事件
	        function ReSetSendMail() {
	            clearInterval(tcode);
	            $("#hf_timecount").val("60");
	            $("#btnSendCode").text("获取验证码");
	            $("#btnSendCode").attr("onclick", "GetVerifyCodeAction()");
	        }
				function getFileUrl(sourceId) {
					var url;
					if (navigator.userAgent.indexOf("MSIE") >= 1) { // IE 
						url = document.getElementById(sourceId).value;
					} else if (navigator.userAgent.indexOf("Firefox") > 0) { // Firefox 
						url = window.URL.createObjectURL(document
								.getElementById(sourceId).files.item(0));
					} else if (navigator.userAgent.indexOf("Chrome") > 0) { // Chrome 
						url = window.URL.createObjectURL(document
								.getElementById(sourceId).files.item(0));
					}
					name = document.getElementById(sourceId).value;
					file = document.getElementById(sourceId).files.item(0);
					return url;
				}

				/** 
				 * 将本地图片 显示到浏览器上 
				 */
				function preImg(sourceId, targetId) {
					var url = getFileUrl(sourceId);
					var imgPre = document.getElementById(targetId);
					imgPre.src = url;
				}
				function sub() {
					var Name = document.getElementById("username");
					var Email = document.getElementById("email");
					var Password = document.getElementById("password");
					var Check = document.getElementById("check");
					//var yz = document.getElementById("yanzheng").value;
					//var position = " ";
					name = Name.value;
					pass = Password.value;
					conf = Check.value;
					pass=Password.value;
					em=Email.value;
					if (pass != conf) {
						alert("两次输入的密码不同");
					} else {
						$.ajax({
							type : "POST",//方法类型
							dataType : "json",//服务端接收的数据类型
							url : "MemberRegisterServlet",//url
							data : {"username":name,"password":pass,"email":em},
							success : function(result) {
								console.log(result);//打印服务端返回的数据(调试用)
								var jo = eval(result);
								if (jo.data.startsWith("t")) {
									alert("发送邮件成功!");
								} 
								else {
									alert(jo.data);
								}
								;
							},
							error : function() {
								alert("会员注册异常!");
							}
						});
					}
					
				}
			</script>
			<hr>
		</div>
	</div>
</body>
</html>
